<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width-device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <link href="https://sp-bootstrap.global.ssl.fastly.net/8.0.0/sp-bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}"> 
    <script type="text/javascript" src="{{ url_for('static', filename='script.js') }}"></script>
    <title> Pick your preference </title>

</head>


<body>
    <div>
        <h2 class="title"> What kind of playlist are you looking for? </h2>
    </div>
    
    <div class="container" style="margin: auto;">
        <form action="/go" method="POST" onsubmit="return checkSelection()">
            <div class="form-select-2">
                <!-- MOOD FORM -->
                <div class="form-group form-select-1">
                    <h3 class="text-salmon" style='text-align: center;'> Select a mood: </h3>

                    <div style="padding-left: 39%;">
                        <span class="form-button">
                            <input type="radio" id="cheery" name="mood" value="cheery"> 
                        <label for="cheery" class="form-label"> Cheery </label><br></span>
                        <span class="form-button">
                            <input type="radio" id="melancholy" name="mood" value="melancholy"> 
                        <label for="melancholy" class="form-label"> Melancholy </label><br></span>
                        <span class="form-button">
                            <input type="radio" id="upbeat" name="mood" value="upbeat"> 
                        <label for="upbeat" class="form-label"> Upbeat </label><br></span>
                        <span class="form-button">
                            <input type="radio" id="no preference" name="mood" value="no preference"> 
                        <label for="no preference" class="form-label"> No preference </label><br></span>
                    </div>
                </div>

                <h3 class="text-salmon" style='text-align: center; padding-bottom: 5%;'> 
                    Select the 
                    <span class="prob-thresh" title="This is the threshold of 'like' probability that the generator will use to select and return songs!">
                        like probability threshold</span>:</h3>


                <!-- PROBABILITY THRESHOLD FORM -->
                <div class="range-wrap">
                    <input type="range" value="0.7" class="range" name="prob-thresh"  min="0.5" max="0.9" step="0.1">
                    <output class="bubble"></output>
                </div>
            </div>

            <!-- GENRES FORM -->
            <div class="form-group form-select-2">
                <h3 class="text-salmon" style='text-align: center;'> Select the genres to be included: </h3>
                <div style="padding-left: 40%">
                    <span class="form-button">
                        <input type="checkbox" name="genres" id="r&b" value="r&b"/> 
                    <label for="r&b" class="cb-label"> R&B </label><br></span>
                    <span class="form-button">
                        <input type="checkbox" name="genres" id="pop" value="pop"/> 
                    <label for="pop" class="cb-label"> Pop </label><br></span>
                    <span class="form-button">
                        <input type="checkbox" name="genres" id="rap" value="rap"/> 
                    <label for="rap" class="cb-label"> Rap </label><br></span>
                    <span class="form-button">
                        <input type="checkbox" name="genres" id="hip hop" value="hip hop"/> 
                    <label for="hip hop" class="cb-label"> Hip Hop </label><br></span>
                    <span class="form-button">
                        <input type="checkbox" name="genres" id="funk" value="funk"/> 
                    <label for="funk" class="cb-label">Funk </label><br></span>
                    <span class="form-button">
                        <input type="checkbox" name="genres" id="rock" value="rock"/> 
                    <label for="rock" class="cb-label"> Rock </label><br></span>
                    <span class="form-button">
                        <input type="checkbox" name="genres" id="surprise me" value="surprise me" onClick="ckChange(this)"/> 
                    <label for="surprise me" class="cb-label"> Surprise me! </label><br></span>
                </div>
                
            </div>

            <div class="btn-center">
                <input type="submit" name="sub_but" value="Generate a playlist from Janna's music!" class="btn btn-salmon btn-lg"/>
            </div>

            <!--div style="text-align:center; padding: 10%; margin: 0 auto;">
                <input type="submit" name="sub_but" value="Generate a playlist from my music!" class="btn btn-salmon btn-lg"/>
            </div-->
            

        </form>
    </div>

    <!-- FOR BUBBLE TO FOLLOW RANGE SLIDER -->
    <script>
        const allRanges = document.querySelectorAll(".range-wrap");
        allRanges.forEach(wrap => {
        const range = wrap.querySelector(".range");
        const bubble = wrap.querySelector(".bubble");

        range.addEventListener("input", () => {
            setBubble(range, bubble);
        });
        setBubble(range, bubble);
        });
    </script>

</body>

</html>